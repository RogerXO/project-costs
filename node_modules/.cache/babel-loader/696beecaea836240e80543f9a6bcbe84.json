{"ast":null,"code":"import _defineProperty from\"C:/Users/roger/OneDrive/Documents/programming/frontend/react/react-course-Matheus-Battisti/costs-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/roger/OneDrive/Documents/programming/frontend/react/react-course-Matheus-Battisti/costs-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/roger/OneDrive/Documents/programming/frontend/react/react-course-Matheus-Battisti/costs-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Input from\"../form/Input\";import Select from\"../form/Select\";import SubmitButton from\"../form/SubmitButton\";import styles from\"./ProjectForm.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProjectForm(_ref){var btnText=_ref.btnText,handleSubmit=_ref.handleSubmit,projectData=_ref.projectData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState(projectData||{}),_useState4=_slicedToArray(_useState3,2),project=_useState4[0],setProject=_useState4[1];useEffect(function(){fetch(\"http://localhost:5000/categories\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(resp){return resp.json();}).then(function(data){setCategories(data);}).catch(function(err){return console.log(err);});},[]);var submit=function submit(e){e.preventDefault();handleSubmit(project);};function handleChange(e){setProject(_objectSpread(_objectSpread({},project),{},_defineProperty({},e.target.name,e.target.value)));}function handleCategory(e){setProject(_objectSpread(_objectSpread({},project),{},{category:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}}));}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:styles.form,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",text:\"Project name\",name:\"name\",placeholder:\"Enter the project name\",handleOnChange:handleChange,value:project.name?project.name:\"\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",text:\"Project budget\",name:\"budget\",placeholder:\"Enter the project total budget\",handleOnChange:handleChange,value:project.budget?project.budget:\"\"}),/*#__PURE__*/_jsx(Select,{name:\"categoryId\",text:\"Select the category\",options:categories,handleOnChange:handleCategory,value:project.category?project.category.id:\"\"}),/*#__PURE__*/_jsx(SubmitButton,{text:btnText})]});}export default ProjectForm;","map":{"version":3,"sources":["C:/Users/roger/OneDrive/Documents/programming/frontend/react/react-course-Matheus-Battisti/costs-project/src/components/project/ProjectForm.js"],"names":["useEffect","useState","Input","Select","SubmitButton","styles","ProjectForm","btnText","handleSubmit","projectData","categories","setCategories","project","setProject","fetch","method","headers","then","resp","json","data","catch","err","console","log","submit","e","preventDefault","handleChange","target","name","value","handleCategory","category","id","options","selectedIndex","text","form","budget"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nimport Input from \"../form/Input\";\r\nimport Select from \"../form/Select\";\r\nimport SubmitButton from \"../form/SubmitButton\";\r\n\r\nimport styles from \"./ProjectForm.module.css\";\r\n\r\nfunction ProjectForm({ btnText, handleSubmit, projectData }) {\r\n  const [categories, setCategories] = useState([]);\r\n  const [project, setProject] = useState(projectData || {});\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/categories\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((resp) => resp.json())\r\n      .then((data) => {\r\n        setCategories(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    handleSubmit(project);\r\n  };\r\n\r\n  function handleChange(e) {\r\n    setProject({\r\n      ...project,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  function handleCategory(e) {\r\n    setProject({\r\n      ...project,\r\n      category: {\r\n        id: e.target.value,\r\n        name: e.target.options[e.target.selectedIndex].text\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit} className={styles.form}>\r\n      <Input\r\n        type=\"text\"\r\n        text=\"Project name\"\r\n        name=\"name\"\r\n        placeholder=\"Enter the project name\"\r\n        handleOnChange={handleChange}\r\n        value = {project.name ? project.name : \"\"}\r\n      />\r\n      <Input\r\n        type=\"number\"\r\n        text=\"Project budget\"\r\n        name=\"budget\"\r\n        placeholder=\"Enter the project total budget\"\r\n        handleOnChange={handleChange}\r\n        value = {project.budget ? project.budget : \"\"}\r\n      />\r\n      <Select\r\n        name=\"categoryId\"\r\n        text=\"Select the category\"\r\n        options={categories}\r\n        handleOnChange={handleCategory}\r\n        value = {project.category ? project.category.id : \"\"}\r\n      />\r\n      <SubmitButton text={btnText} />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ProjectForm;\r\n"]},"metadata":{},"sourceType":"module"}